#!/usr/bin/env node

require('coa').Cmd()
  .name(process.argv[1])
  .helpful()
  .opt()
    .name('version')
    .title('Version')
    .short('v').long('version')
    .only()
    .flag()
    .act(function(opts) {
      var package = require('fs').readFileSync(__dirname + '/../package.json')
      return JSON.parse(package).version
    })
    .end()
  .opt()
      .name('input').title('Input file (default: stdin)')
      .short('i').long('input')
      .input()
      .end()
  .opt()
      .name('level').title('Compression level (default: 0)')
      .short('c').long('compress')
      .end()
  .opt()
      .name('output').title('Output file (default: stdout)')
      .short('o').long('output')
      .output()
      .end()
  .opt()
      .name('file').title('Partial file')
      .short('p').long('partial')
      .end()
  .act(function(options) {
    return require('../lib/boss').run(options)
  })
  .run()